<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Arduino控制中心</title>
    <link rel="stylesheet" href={{ url_for('static', filename='css/bootstrap/bootstrap.min.css') }}>
    <link rel="stylesheet" href={{ url_for('static', filename='css/bootstrap/bootstrap.min.css.map') }}>
    <link rel="stylesheet" href={{ url_for('static', filename='css/login/style.default.css')}} id="theme-stylesheet">
    <link rel="stylesheet" href={{ url_for('static', filename='css/font-Awesome/font-Awesome.min.css')}} id="font-stylesheet">
    <link rel="stylesheet" href={{ url_for('static', filename='css/index/main.css')}} id="main">

    <!--核心样式-->
    <link rel="stylesheet" href={{ url_for('static', filename='css/button/style.css')}}>
    
    <link rel="stylesheet" href={{ url_for('static', filename='css/button/switch-style.css')}}>

    <link id="new-stylesheet" rel="stylesheet">
</head>
<body>

<header>
    <div class="bg-dark collapse" id="navbarHeader" style="">
        <div class="container">
            <div class="row">
                <div class="col-sm-8 col-md-7 py-4">
                    <h4 class="text-white">关于</h4>
                    <p class="text-muted">Arduino控制管理中心</p>
                </div>
                <div class="col-sm-4 offset-md-1 py-4">
                    <h4 class="text-white">联系</h4>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">管理员：syske</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="container d-flex justify-content-between">
            <a href="#" class="navbar-brand d-flex align-items-center">
                <img src={{ url_for('static', filename='image/logo.png')}}>
                <strong>Arduino控制管理中心</strong>
            </a>
            <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </div>
</header>

<main role="main">

    <section class="jumbotron text-center">
        <div class="container">
            <h1>Arduino控制管理</h1>
            <p class="lead text-muted">该应用可以控制局域网中的Arduino设备，目前已经实现了esp8266的简单控制，其原理是通过websocket的方式触发Arduino中的各种设备，比如台灯</p>
        </div>
    </section>
    

    <div class="card-list">
        <div class="container">
        
        <div class="grid">

              <button onclick = "taggleCmd()"><span>台灯</span></button>
              
              <button></button>
              
              <button class="icon">
                <svg width="626" height="512" viewBox="0 0 626 512" xmlns="http://www.w3.org/2000/svg">
                  <path fill="currentColor" d="M64 166Q115 115 180 89 244 63 313 63 382 63 447 89 511 115 562 166L528 200Q484 156 429 134 373 111 313 111 253 111 197 134 141 156 98 200L64 166ZM132 234Q169 197 216 178 263 159 313 159 363 159 410 178 457 197 494 234L460 268Q430 238 392 223 354 207 313 207 272 207 234 223 195 238 166 268L132 234ZM200 302Q223 279 252 267 281 255 313 255 345 255 374 267 403 279 426 302L392 335Q376 319 355 311 334 303 313 303 291 303 271 311 250 319 234 335L200 302ZM267 369Q287 351 313 351 339 351 358 369L313 415 267 369Z"></path>
                </svg>
              </button>
              
              <div class="button" role="button"><span>不正常</span></div>
              
              <div class="button" role="button"></div>
              
              <div class="button icon" role="button">
                <svg width="626" height="512" viewBox="0 0 626 512" xmlns="http://www.w3.org/2000/svg">
                  <path fill="currentColor" d="M64 166Q115 115 180 89 244 63 313 63 382 63 447 89 511 115 562 166L528 200Q484 156 429 134 373 111 313 111 253 111 197 134 141 156 98 200L64 166ZM132 234Q169 197 216 178 263 159 313 159 363 159 410 178 457 197 494 234L460 268Q430 238 392 223 354 207 313 207 272 207 234 223 195 238 166 268L132 234ZM200 302Q223 279 252 267 281 255 313 255 345 255 374 267 403 279 426 302L392 335Q376 319 355 311 334 303 313 303 291 303 271 311 250 319 234 335L200 302ZM267 369Q287 351 313 351 339 351 358 369L313 415 267 369Z"></path>
                </svg>
              </div>
              
              <button disabled="disabled"><span>作废</span></button>
              
              <button disabled="disabled"></button>
              
              <button class="icon" disabled="disabled">
                <svg width="626" height="512" viewBox="0 0 626 512" xmlns="http://www.w3.org/2000/svg">
                  <path fill="currentColor" d="M64 166Q115 115 180 89 244 63 313 63 382 63 447 89 511 115 562 166L528 200Q484 156 429 134 373 111 313 111 253 111 197 134 141 156 98 200L64 166ZM132 234Q169 197 216 178 263 159 313 159 363 159 410 178 457 197 494 234L460 268Q430 238 392 223 354 207 313 207 272 207 234 223 195 238 166 268L132 234ZM200 302Q223 279 252 267 281 255 313 255 345 255 374 267 403 279 426 302L392 335Q376 319 355 311 334 303 313 303 291 303 271 311 250 319 234 335L200 302ZM267 369Q287 351 313 351 339 351 358 369L313 415 267 369Z"></path>
                </svg>
              </button>
              
            </div>
        </div>
    </div>
    
    <div class="board" style="margin:auto; width:400px; display:block; float:initial">
  <div class="board__inner">
    <section class="board__holder">
        <div class="switch-title">
            <span>台灯</span>
        </div>
        <div class="switch switch--on">
          <div class="switch__inner">
            <span class="switch__status">ON</span>
          </div>
          <span class="switch__toggle"></span>
        </div>
        <div class="screws">
          <span class="screws__item screws__item--border"></span>
          <span class="screws__item screws__item--filled"></span>
        </div>
    </section>
    <section class="board__holder">
        <div class="switch-title">
            <span>电视机</span>
        </div>
        <div class="switch switch--off">
          <div class="switch__inner">
            <span class="switch__status">OFF</span>
          </div>
          <span class="switch__toggle"></span>
        </div>
        <div class="screws">
          <span class="screws__item screws__item--border"></span>
          <span class="screws__item screws__item--filled"></span>
        </div>
    </section>
  </div>
</div>
</main>

<footer class="bd-footer text-muted">
    <div class="container-fluid p-3 p-md-5">
        <p>Copyright © 2022 云中志</p>
        <p>Powered by python on linux</p>
    </div>
</footer>


<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/Base64/1.0.2/base64.js"></script>
<script src="https://getbootstrap.net/example/assets/dist/js/bootstrap.bundle.js"></script>
<script src={{ url_for('static', filename='js/script.js')}}></script>
<script>
function taggleCmd() {

 var ws = new WebSocket("ws://192.168.0.101:80");
    //申请一个WebSocket对象，参数是服务端地址，同http协议使用http://开头一样，WebSocket协议的u   rl使用ws://开头，另外安全的WebSocket协议使用wss://开头
    ws.onopen = function(){
    　　//当WebSocket创建成功时，触发onopen事件
       console.log("open");
    　　ws.send("taggleLed"); //将消息发送到服务端
    }
    ws.onmessage = function(e){
　　//当客户端收到服务端发来的消息时，触发onmessage事件，参数e.data包含server传递过来的数据
　　console.log(e.data);
    }
    ws.onclose = function(e){
    　　//当客户端收到服务端发送的关闭连接请求时，触发onclose事件
    　　console.log("close");
    }
    ws.onerror = function(e){
    　　//如果出现连接、处理、接收、发送数据失败的时候触发onerror事件
    　　console.log(error);
    }

}
   
</script>
</body>
</html>